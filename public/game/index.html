<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8" />
    <meta name="renderer" content="webkit" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="full-screen" content="true" />
    <meta name="x5-fullscreen" content="true" />
    <meta name="360-fullscreen" content="true" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <title>Street Car Racing</title>
    <link
      rel="preload"
      as="font"
      href="./CookieRun-Black.ttf"
      type="font/ttf"
      crossorigin="anonymous"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        overflow: hidden;
      }

      /* Hide ads container if any */
      #YYGGamesAdContainer, .YYGGamesAdBanner, .YYGGamesAdOverlay {
        display: none !important;
        visibility: hidden !important;
        opacity: 0 !important;
        pointer-events: none !important;
        height: 0 !important;
        width: 0 !important;
      }

      @font-face {
        font-family: "Arial";
        src: url("CookieRun-Black.ttf");
      }

      @font-face {
        font-family: "CookieRun-Black";
        src: url("CookieRun-Black.ttf");
      }

      html {
        touch-action: none;
      }

      body {
        cursor: default;
        overflow: "hidden";
        background: #7cdcff;
      }

      div {
        text-align: center;
      }
    </style>
    <script src="https://api.gamemonetize.com/YYGGamesForGamemonetize.js"></script>
    <script>
      YYGGames.setConfig({
        gm: "6mpmshr3a56tp1x01u87xfj3i330ucdy",
      });
    </script>

    <!-- VConsole -->
    <!-- <script src="https://h5gamessdk.yyggames.com/sdk/vconsole.min.js"></script>
	<script>
		var vConsole = new window.VConsole();
	</script> -->
    <script>
      var totalGameSize = 12800000;
    </script>
    <script>
      console.error =
        console.log =
        console.info =
        console.warn =
          function () {};
      console.e = function () {
        const options = [];
        const colors = [];
        for (const it of arguments) {
          options.push("%c", it);
          colors.push("color: #ffffff; background: #8f4ef1");
        }
        console.error.apply(this, [options.join(" "), ...colors]);
      };

      const keysToBlockWhenFramed = [32, 33, 34, 35, 36, 37, 38, 39, 40, 44];
      document.addEventListener(
        "keydown",
        function (info) {
          if (
            window != window.top &&
            keysToBlockWhenFramed.indexOf(info.which) > -1
          ) {
            info.preventDefault();
            info.stopPropagation();
          }
        },
        true
      );

      document.addEventListener(
        "mousedown",
        function () {
          window.focus();
        },
        true
      );
      document.addEventListener(
        "touchstart",
        function () {
          window.focus();
        },
        true
      );

      document.addEventListener("gesturestart", function (event) {
        var event = event || window.event;
        if (typeof event.preventDefault != "undefined") {
          event.preventDefault();
        } else {
          event.returnValue = false;
        }
      });

      function loadLib(url) {
        var script = document.createElement("script");
        script.async = false;
        script.src = url;
        document.body.appendChild(script);
      }
    </script>
    <script>
      var totalGameSize = 17239242;
    </script>
    <script>
      // Remove or hide ads after page load
      window.addEventListener('load', function () {
        // Try to find and hide ad containers dynamically
        var adContainers = document.querySelectorAll('#YYGGamesAdContainer, .YYGGamesAdBanner, .YYGGamesAdOverlay');
        adContainers.forEach(function (el) {
          el.style.display = 'none';
          el.style.visibility = 'hidden';
          el.style.opacity = '0';
          el.style.pointerEvents = 'none';
          el.style.height = '0';
          el.style.width = '0';
        });

        // MutationObserver to detect new ad elements dynamically added
        var observer = new MutationObserver(function (mutations) {
          mutations.forEach(function (mutation) {
            mutation.addedNodes.forEach(function (node) {
              if (node.nodeType === 1) { // Element node
                if (
                  node.id === 'YYGGamesAdContainer' ||
                  node.classList.contains('YYGGamesAdBanner') ||
                  node.classList.contains('YYGGamesAdOverlay') ||
                  node.tagName === 'IFRAME' ||
                  node.tagName === 'VIDEO'
                ) {
                  node.style.display = 'none';
                  node.style.visibility = 'hidden';
                  node.style.opacity = '0';
                  node.style.pointerEvents = 'none';
                  node.style.height = '0';
                  node.style.width = '0';
                  if (node.parentNode) {
                    node.parentNode.removeChild(node);
                  }
                }
              }
            });
          });
        });

        observer.observe(document.body, { childList: true, subtree: true });

        // Override YYGGames ad-related functions if possible
        if (window.YYGGames) {
          if (window.YYGGames.showAd) {
            window.YYGGames.showAd = function () {
              console.log('Ad blocked: showAd called');
              return Promise.resolve();
            };
          }
          if (window.YYGGames.showVideoAd) {
            window.YYGGames.showVideoAd = function () {
              console.log('Ad blocked: showVideoAd called');
              return Promise.resolve();
            };
          }
        }
      });
    </script>
  </head>

  <body>
    <script>
      function readTextFile(url) {
        return new Promise((resolve, reject) => {
          var xhr = new XMLHttpRequest();
          xhr.overrideMimeType("application/json");
          xhr.open("GET", url, true);
          xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
              if (xhr.status === 200) {
                resolve(xhr.responseText);
              } else {
                reject(new Error("Failed to load file. Status: " + xhr.status));
              }
            }
          };
          xhr.send(null);
        });
      }
      YYGGames.showLoadingSourceScene()
        .setAppName("Street-Car-Racing") //需要设置appName
        .setBackgroundColor("#7cdcff") //设置背景颜色 非必填参数
        .setGameLogoUrl("./base/logo.png") //设置游戏logo
        .setGameBannerUrl("./base/banner.jpg"); //设置游戏banner

      // 0 //144x144.png 常规(默认)
      // 1 //144x144-stroke.png 常规有描边
      // 2 //special1.png
      // 3 //special2.png
      /**
		YAD,
		YIV,
		PUZZLEGAME,
		BABYGAMES,
		CARGAMES,
		BESTGAMES,
		TOPGAMES,
		KIDSGAME,
		FREEGAMES,
		FREEGAME,
		H5GAMES4U,
		*/

      YYGGames.setConfig({
        env_logo_skin: {
          // YIV: 1,
          // YAD: 1,
        },
      });
    </script>
    <script type="text/javascript" src="index.js"></script>
  </body>
</html>
